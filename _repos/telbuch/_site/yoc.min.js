var YOC={view:function(h,f){var b={},d=document.getElementById(h.id),g=[],a=h.delegate;b.set_hidden=function(a){d.style.display=a?"none":"block"};b.set_transparent=function(a){d.style.opacity=a?0:1};b.add_subview=function(a){g.push(a)};b.get_el=function(){return d};b.get_subviews=function(){return g};b.set_delegate=function(b){a=b};b.get_delegate=function(b){return a};b.click=function(c){c.stopPropagation();a&&a.hasOwnProperty("view_did_click")&&a.view_did_click(b,c)};d.addEventListener("click",b.click);
return b},movieView:function(h,f){var b=YOC.view(h,f),d=function(a,c,e){setTimeout(function(){a.style.display="block"===a.style.display?"none":"block";b.get_el().lastChild===a&&(b.get_delegate()&&b.get_delegate().hasOwnProperty("movie_did_finish"))&&b.get_delegate().movie_did_finish(b)},c)},g=function(a){var c=b.get_delegate();c&&c.hasOwnProperty("movie_did_load")&&c.movie_did_load(b,a)};b.load=function(a){var c,e;a.format=a.format||"jpg";for(c=0;c<a.frames;c+=1){e=document.createElement("img");if(a.pad&&
"number"===typeof a.pad){var d=e,h=(a.dir||"")+a.prefix,f;f="000"+c;f=f.substr(f.length-a.pad);d.src=h+f+"."+a.format}else e.src=(a.dir||"")+a.prefix+c+"."+a.format;e.id="frame-"+c;e.className="frame";e.style.display="none";b.get_el().appendChild(e)}console.log(e);e.addEventListener("load",g)};b.play=function(a){var c,e=b.get_el().children;for(c=0;c<e.length;c+=1)d(e[c],c*a.delay,e.length),e[c-1]&&d(e[c-1],c*a.delay,e.length)};b.forward=function(){var a,c=b.get_el().children;for(a=0;a<c.length;a+=
1)if("none"===c[a].style.display){c[a].style.display="block";break}};b.backward=function(){var a,c=b.get_el().children;for(a=41;0<a;a-=1)if("block"===c[a].style.display){c[a].style.display="none";break}};b.rewind=function(){var a,b=this.get_el().children;for(a=0;a<b.length;a+=1)b[a].style.display="none";b[0].style.display="block"};return b},draggableView:function(h,f){var b=YOC.view(h,f);b.get_el().addEventListener("touchmove",function(d){var g=d.touches[0].clientX,a=b.get_delegate();"knife"===b.get_el().id&&
(b.get_el().style.left=g-70+"px");a&&a.hasOwnProperty("draggable_view_did_drag")&&a.draggable_view_did_drag(b,d)});b.get_el().addEventListener("touchstart",function(d){var g=b.get_delegate();g&&g.hasOwnProperty("draggable_view_will_drag")&&g.draggable_view_will_drag(b,d)});return b},viewController:function(h,f){var b={},d={};b.add_outlet=function(b){d[b.name]=b.dest};b.get_outlet=function(b){return d[b]};b.track=function(b,a,c,e,d){_gaq.push(["_trackEvent",b,a,c,e,d]);console.log("Tracking. Category = "+
b+", action = "+a)};return b}};
